# parameters
nc: 80  # number of classes
depth_multiple: 1.00  # model depth multiple
width_multiple: 1.00  # layer channel multiple

# anchors
anchors: 3

# YOLOv5 backbone
backbone:
  # [from, number, module, args]
  [ [ -1, 1, Focus, [ 64, 3 ] ],  # 0-P1/320
    [ -1, 1, Conv, [ 128, 3, 2 ] ],  # 1-P2/160
    [ -1, 1, Scale, [ 256, 1, 3/4 ] ],  # 2-P4/120
    [ -1, 1, Scale, [ 384, 1, 2/3 ] ],  # 3-P5/80
    [ -1, 1, Scale, [ 512, 1, 3/4 ] ],  # 4-P6/60
    [ -1, 1, Scale, [ 640, 1, 2/3 ] ],  # 5-P7/40
    [ -1, 1, Scale, [ 768, 2, 3/4 ] ],  # 6-P8/30
    [ -1, 1, Scale, [ 896, 3, 2/3 ] ],  # 7-P9/20
    [ -1, 1, SPP, [ 896, [ 5, 9, 13 ] ] ],  # 8
  ]

# YOLOv5 head
head:
  [ [ -1, 1, Scale, [ 768, 6, 3/2 ] ],  # 9-P8/30
    [ [ -1, 6 ], 1, Concat, [ 1 ] ],  # cat
    [ -1, 1, Scale, [ 640, 6, 4/3 ] ],  # 11-P7/40
    [ [ -1, 5 ], 1, Concat, [ 1 ] ],  # cat
    [ -1, 1, Scale, [ 512, 6, 3/2 ] ],  # 13-P6/60
    [ [ -1, 4 ], 1, Concat, [ 1 ] ],  # cat
    [ -1, 1, Scale, [ 384, 6, 4/3 ] ],  # 15-P5/80
    [ [ -1, 3 ], 1, Concat, [ 1 ] ],  # cat

    [ -1, 1, Scale, [ 512, 1, 3/4 ] ],  # 17-P6/60
    [ [ -1, 13 ], 1, Concat, [ 1 ] ],  # cat
    [ -1, 1, Scale, [ 640, 1, 2/3 ] ],  # 19-P7/40
    [ [ -1, 11 ], 1, Concat, [ 1 ] ],  # cat
    [ -1, 1, Scale, [ 768, 1, 3/4 ] ],  # 21-P8/30
    [ [ -1, 9 ], 1, Concat, [ 1 ] ],  # cat
    [ -1, 1, Scale, [ 896, 1, 2/3 ] ],  # 23-P9/20

    [ [ 15, 19, 23 ], 1, Detect, [ nc, anchors ] ],  # Detect()
  ]
